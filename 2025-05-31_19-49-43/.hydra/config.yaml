dataset:
  dataset:
    output_dir: data/processed
    train_val_split_ratio: 0.8
  cve:
    days_lookback: 365
    results_per_page: 100
    max_results: 10000
    min_cvss_score: 0.0
  mitre_attack:
    include_tactics: true
    include_techniques: true
  security_docs:
    include: true
    max_examples: 200
training:
  model:
    name: mistralai/Mistral-7B-v0.1
    use_4bit: true
    use_nested_quant: true
    bnb_4bit_compute_dtype: float16
    bnb_4bit_quant_type: nf4
    bnb_4bit_use_double_quant: true
  training:
    output_dir: ${paths.training_output}
    num_train_epochs: 3
    per_device_train_batch_size: 4
    per_device_eval_batch_size: 4
    gradient_accumulation_steps: 4
    learning_rate: 0.0002
    weight_decay: 0.01
    warmup_ratio: 0.03
    logging_steps: 10
    save_steps: 100
    eval_steps: 100
    max_grad_norm: 0.3
    max_steps: -1
    lr_scheduler_type: cosine
  lora:
    r: 16
    alpha: 32
    target_modules:
    - q_proj
    - k_proj
    - v_proj
    - o_proj
    bias: none
    task_type: CAUSAL_LM
    lora_dropout: 0.05
  logging:
    wandb:
      enabled: true
      project: security-llm
      entity: null
      name: ${now:%Y-%m-%d_%H-%M-%S}
    tensorboard:
      enabled: true
      log_dir: ${paths.logs}/tensorboard
env:
  NVD_API_KEY: ${oc.env:NVD_API_KEY}
  MITRE_ATTACK_URL: ${oc.env:MITRE_ATTACK_URL}
  DATASET_OUTPUT_DIR: ${oc.env:DATASET_OUTPUT_DIR,data/processed}
  TRAINING_OUTPUT_DIR: ${oc.env:TRAINING_OUTPUT_DIR,models/checkpoints}
